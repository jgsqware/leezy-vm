# TinyProxy Configuration for Leezy VM
# Lightweight HTTP/HTTPS proxy server

# User and group for the proxy process
User tinyproxy
Group tinyproxy

# Port to listen on
Port 8888

# Connection timeout in seconds
Timeout 600

# Error pages
DefaultErrorFile "/usr/share/tinyproxy/default.html"
StatFile "/usr/share/tinyproxy/stats.html"

# Logging
LogLevel Info
# LogFile "/var/log/tinyproxy/tinyproxy.log"
# Syslog On

# Performance settings
MaxClients 100
MinSpareServers 5
MaxSpareServers 20
StartServers 10
MaxRequestsPerChild 0

# Access Control
# Allow connections from any IP (adjust for security in production)
Allow 0.0.0.0/0

# You can restrict to specific IPs or ranges:
# Allow 127.0.0.1
# Allow 192.168.0.0/16
# Allow 10.0.0.0/8

# Bind to all interfaces
# BindSame yes

# Connection settings
ConnectPort 443
ConnectPort 563
ConnectPort 80
ConnectPort 8080
ConnectPort 8443

# Add any additional ports your applications need:
# ConnectPort 3000
# ConnectPort 5000

# Headers to add
# AddHeader "X-My-Header" "Powered by TinyProxy"

# ViaProxyName "tinyproxy"

# Filter configuration (optional)
# Filter "/etc/tinyproxy/filter"
# FilterURLs On
# FilterExtended On

# Reverse proxy configuration (optional)
# ReversePath "/google/" "http://www.google.com/"
# ReversePath "/mirror/foo/" "http://www.foo.com/"

# Upstream proxy (optional)
# If you need to chain to another proxy:
# Upstream http 127.0.0.1:8080
# Upstream socks5 127.0.0.1:1080

# No upstream proxy for these domains:
# no upstream ".example.com"
# no upstream ".local"